<!doctype html>
<html lang="en">

<head>
  <title>Cadastro de tarefa</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
  <header>
    <div class="container navbar navbar-expand-lg">
        <h1>Sistema de tarefas</h1>

        <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#menuPrincipal">
                <span class="navbar-toggler-icon"></span>
        </button>

        <nav id="menuPrincipal" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav nav-pills">
                <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="/tarefas" class="nav-link">Tarefas</a></li>
                <li class="nav-item"><a href="/contato" class="nav-link">Contato</a></li>
            </ul>
        </nav>
    </div>
  </header>

  <main>

    <div class="container">
        <h2>Lista de Tarefas</h2>

        <a href="/criar" class="btn btn-sm btn-outline-primary mt-3 mb-3">Nova Tarefa</a>

        <table class="table">
            <thead>
                <tr>
                    <th></th>
                    <th>#</th>
                    <th>Nome Tarefa</th>
                    <th>Descrição</th>
                    <th>Data Execução</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>
                    <td>1</td>
                    <td>Tarefa 1</td>
                    <td>Descrição da tarefa 1</td>
                    <td>10/10/2023</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Tarefa 2</td>
                    <td>Descrição da tarefa 2</td>
                    <td>10/03/2023</td>
                </tr> -->

                <tr th:each="tarefa : ${tarefas}">
                    <td>
                        <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="dropdown">
                            +
                        </button>
                        <ul id="menutarefas" class="dropdown-menu">
                            <li class="dropdown-item">
                                <a th:href="@{'/editar/'+ ${tarefa.id}}" class="d-block w-100">Editar</a>
                            </li>
                            <li class="dropdown-item">
                                <a th:href="@{'/excluir/'+ ${tarefa.id}}" class="d-block text-danger w-100">Excluir</a>
                            </li>
                        </ul>
                    </td>
                    <td th:text="${tarefa.id}"></td>
                    <td th:text="${tarefa.nome}"></td>
                    <td th:text="${tarefa.descricao}"></td>
                    <td th:text="${{tarefa.data}}"></td>
                </tr>
            </tbody>
        </table>
    </div>
  </main>
  <footer>
    <!-- place footer here -->
  </footer>
  <!-- Bootstrap JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
  </script>
</body>

</html>